{"version":3,"sources":["webpack:///./src/dapps/MakerSai/MakerDai.vue?f8fa","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue?c300","webpack:///src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue?7a52","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue?6752","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue?a4af","webpack:///src/dapps/MakerDai/components/CheckBox/CheckBox.vue","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue?5722","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue","webpack:///src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue?03c2","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?d0d5","webpack:///src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?9d7a","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?6b73","webpack:///src/dapps/MakerSai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?0bd8","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?6d8f","webpack:///src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?956c","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?4a67","webpack:///src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?cb99","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue","webpack:///./src/dapps/MakerSai/MakerCDP.js","webpack:///src/dapps/MakerSai/MakerDai.vue","webpack:///./src/dapps/MakerSai/MakerDai.vue?41aa","webpack:///./src/dapps/MakerSai/MakerDai.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?0672","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue?acd7","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue?48a8","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?6c4b","webpack:///./src/dapps/MakerSai/helpers.js","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue?b673","webpack:///./src/dapps/MakerSai/MakerDai.vue?a42c","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?58ef","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?fe34"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","activeValues","calcCollatRatioDaiChg","calcCollatRatioEthChg","calcLiquidationPriceEthChg","calcLiquidationPriceDaiChg","tokensWithBalance","on","lockEth","drawDai","approveDai","approveMkr","freeEth","wipeDai","closeCdp","destAddressHasProxy","destAddressProxy","moveCdp","checkIfDestAddressHasProxy","showMove","_v","_s","$t","hasProxy","onCreate","showCdpMigrateButtons","_e","showClose","buildProxy","_l","value","idx","key","$event","migrateCdpExternal","directives","name","rawName","expression","showCreateProxy","cdpsWithoutProxy","length","class","cdpId","openMigrate","makerActive","listCdps","openManage","buildEmpty","ethPrice","pethPrice","pethMin","wethToPethRatio","liquidationPenalty","stabilityFee","liquidationRatio","priceService","cdpService","proxyService","cdps","cdpDetailsLoaded","migrationInProgress","openCloseModal","openMoveModal","valuesUpdated","getCdp","hasCdp","setupCdpManage","addCdp","removeCdp","modalHidden","doUpdate","showWithdraw","showPayback","showGenerate","showDeposit","staticRenderFns","enoughMkr","enoughDai","mkrBalance","getMkr","daiBalance","getDai","values","debtValue","displayFixedValue","displayPercentValue","getfeeOwed","approveDaiButton","approveMkrButton","cancelButton","closeModal","closeButton","canClose","components","HelpCenterButton","StandardButton","props","type","Array","default","action","String","Object","maxPethDraw","maxEthDraw","maxUsdDraw","ethCollateral","pethCollateral","usdCollateral","maxDai","collateralRatio","makerManager","data","amount","amountEth","amountDai","govFee","closable","modalDetailInformation","textValues","mkrToken","daiToken","title","buttonStyle","fullWidth","noMinWidth","suppliedFrom","symbol","suppliedTo","suppliedToAmount","destAddress","computed","result","newCollateralRatio","collatRatio","newCollateralRatioSafe","newLiquidationPrice","liquidationPrice","balance","mkrNeeded","zeroDebt","daiNeeded","needsDaiApprove","needsMkrApprove","watch","getBalances","methods","$refs","modal","hide","delayCloseModal","setTimeout","raw","times","toString","toFixed","decimals","currentDai","find","item","$nextTick","$eventHub","$emit","component","checkBoxClicked","scopedSlots","_u","fn","proxy","domProps","target","composing","address","submitButton","btnActive","_t","checkboxChecked","CheckBox","Boolean","checkBoxChecked","newVal","mounted","$on","activeCdp","newTotal","allOk","canGenerateDaiAmount","fiatCurrency","notZero","generateButton","canProceed","submitBtn","ExpandingOption","Function","riskyBypass","digitalCurrency","amountPresent","canCompute","showWarning","hasEnoughEth","calcCollateralRatio","displayFixedPercent","gte","newCollateralRatioInvalid","lte","checked","$forceUpdate","toPeth","canWithdrawEthAmount","ratioOk","maxWithdraw","canWithdrawEthNotice","hasEnoughMkr","hasEnoughDai","governanceFeeOwed","paybackFee","MKR","Maker","DAI","toBigNumber","num","BigNumber","MakerCDP","web3","services","sysVars","cdp","ready","noProxy","needsUpdate","closing","opening","migrated","migrateCdpActive","migrateCdpStage","_liqPrice","isSafe","_collatRatio","_usdCollateral","_governanceFee","updateValues","getGovernanceFee","getProxy","_proxyAddress","getLiquidationPrice","liqPrice","getDebtValue","getCollateralizationRatio","getCollateralValue","PETH","USD","currentProxy","give","ensureProxy","needToFinishMigrating","ethQty","daiQty","openProxyCdpLockEthAndDrawDai","newCdp","proxyAddress","id","lockEthProxy","console","error","acknowledgeBypass","calcCollatRatio","plus","gt","drawDaiProxy","e","eq","minus","freeEthProxy","wipeDaiProxy","toNumber","enoughMkrToWipe","shutProxy","log","getProxyAddress","giveProxy","wei","eth","toUsd","toUSD","lt","tl","tr","div","calcLiquidationPrice","approveUnlimited","account","_pethPrice","proxyAllowanceDai","proxyAllowanceMkr","_daiToken","_mkrToken","_proxyService","_cdpService","minEth","val","isBigNumber","round","ROUND_DOWN","GenerateModal","DepositModal","WithdrawModal","PaybackModal","BackButton","CloseCdpModal","MoveCdp","getBalance","highestGas","afterUpdate","allCdpIds","availableCdps","currentCdpId","creatingCdp","daiPrice","makerCdp","priceFloor","sysServices","targetPrice","maxDaiDraw","bnOver","minEthDeposit","showMoveOrClose","showManage","showRefresh","$route","currentProxyAddress","destroyed","gotoHome","$router","push","gotoCreate","path","includes","systemValues","goToManage","params","deposit","show","withdraw","payback","generate","vals","currentCdp","keys","activeCdps","undefined","one","two","three","isFinite","isNaN","getInt","parseInt","i","atValue"],"mappings":"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","file":"js/chunk-73a9fad5.1a87f606.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-maker\"},[_c('deposit-modal',{ref:\"deposit\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"lockEth\":_vm.lockEth}}),_c('generate-modal',{ref:\"generate\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"drawDai\":_vm.drawDai}}),_c('withdraw-modal',{ref:\"withdraw\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"freeEth\":_vm.freeEth}}),_c('payback-modal',{ref:\"payback\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"wipeDai\":_vm.wipeDai}}),_c('close-cdp-modal',{ref:\"closeCdp\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"closeCdp\":_vm.closeCdp}}),_c('move-cdp-modal',{ref:\"moveCdp\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"dest-address-has-proxy\":_vm.destAddressHasProxy,\"dest-address-proxy\":_vm.destAddressProxy,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"moveCdp\":_vm.moveCdp,\"checkForProxy\":_vm.checkIfDestAddressHasProxy}}),_c('back-button',{attrs:{\"path\":'/interface/dapps/'}},[_c('div',{staticClass:\"back-bar-container\"},[(_vm.showMoveOrClose)?_c('div',{staticClass:\"header-buttons-container\"},[_c('div',{staticClass:\"inner-container\"},[_c('button',{staticClass:\"move-btn\",on:{\"click\":_vm.showMove}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.move-title')))])]),(!((!_vm.hasProxy && !_vm.onCreate) || _vm.showCdpMigrateButtons))?_c('div',[_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.showClose}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.close-title')))])])]):_vm._e()])]):_vm._e()])]),(_vm.makerActive)?_c('div',{staticClass:\"buttons-container\"},[(_vm.showCreateProxy)?_c('div',[_c('div',{staticClass:\"dapps-button\",on:{\"click\":_vm.buildProxy}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.create-proxy')))])])]):_vm._e(),(_vm.showCreateProxy)?_c('div',{staticClass:\"proxy-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.proxy-instructions'))+\" \")]):_vm._e(),(_vm.showCdpMigrateButtons)?_c('div',_vm._l((_vm.cdpsWithoutProxy),function(value,idx){return _c('div',{key:idx + value},[_c('div',{staticClass:\"dapps-button\"},[_c('div',{on:{\"click\":function($event){return _vm.migrateCdpExternal(value)}}},[_c('h4',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.migrate-cdp', { value: value }))+\" \")])])])])}),0):_vm._e(),(_vm.showCdpMigrateButtons)?_c('div',{staticClass:\"proxy-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.migrate-instructions'))+\" \")]):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.makerActive),expression:\"makerActive\"}],staticClass:\"buttons-container\"},[(_vm.showCreateProxy && _vm.cdpsWithoutProxy.length > 1)?_c('div',_vm._l((_vm.cdpsWithoutProxy),function(value,idx){return _c('div',{key:idx + value},[_c('div',{class:[\n            'dapps-button',\n            _vm.activeValues.cdpId === value ? 'active' : ''\n          ]},[_c('div',{on:{\"click\":function($event){return _vm.openMigrate(value)}}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.cdp'))+\" #\"+_vm._s(value))])])])])}),0):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.makerActive && _vm.listCdps),expression:\"makerActive && listCdps\"}],staticClass:\"buttons-container\"},_vm._l((_vm.cdps),function(value,idx){return _c('div',{key:idx + value},[_c('div',{class:[\n          'dapps-button',\n          _vm.activeValues.cdpId === value ? 'active' : ''\n        ]},[_c('div',{on:{\"click\":function($event){return _vm.openManage(value)}}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.cdp'))+\" #\"+_vm._s(value))])])])])}),0),_c('router-view',{attrs:{\"build-empty\":_vm.buildEmpty,\"maker-active\":_vm.makerActive,\"eth-price\":_vm.ethPrice,\"peth-price\":_vm.pethPrice,\"peth-min\":_vm.pethMin,\"weth-to-peth-ratio\":_vm.wethToPethRatio,\"liquidation-penalty\":_vm.liquidationPenalty,\"stability-fee\":_vm.stabilityFee,\"liquidation-ratio\":_vm.liquidationRatio,\"price-service\":_vm.priceService,\"cdp-service\":_vm.cdpService,\"proxy-service\":_vm.proxyService,\"cdps\":_vm.cdps,\"cdp-details-loaded\":_vm.cdpDetailsLoaded,\"tokens-with-balance\":_vm.tokensWithBalance,\"migration-in-progress\":_vm.migrationInProgress,\"open-close-modal\":_vm.openCloseModal,\"open-move-modal\":_vm.openMoveModal,\"values-updated\":_vm.valuesUpdated,\"values\":_vm.activeValues,\"get-cdp\":_vm.getCdp,\"has-cdp\":_vm.hasCdp,\"loading-message1\":_vm.$t('dappsMaker.initial-loading-one'),\"loading-message2\":_vm.$t('dappsMaker.initial-loading-two')},on:{\"activeCdpId\":_vm.setupCdpManage,\"cdpOpened\":_vm.addCdp,\"cdpClosed\":_vm.removeCdp,\"modalHidden\":_vm.modalHidden,\"managerUpdate\":_vm.doUpdate,\"showWithdraw\":_vm.showWithdraw,\"showPayback\":_vm.showPayback,\"showGenerate\":_vm.showGenerate,\"showDeposit\":_vm.showDeposit,\"migrateCdp\":_vm.migrateCdpExternal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.close-title'),\"centered\":\"\",\"static\":\"\",\"lazy\":\"\",\"hide-footer\":\"\"}},[_c('div',{staticClass:\"contents\"},[(!_vm.enoughMkr)?_c('div',{staticClass:\"message-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.not-enough-mkr-close'))+\" \")]):_vm._e(),(!_vm.enoughDai)?_c('div',{staticClass:\"message-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.not-enough-dai-close'))+\" \")]):_vm._e(),_c('p',{staticClass:\"top-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.closing-notice'))+\" \")]),_c('div',{staticClass:\"value-table-container\"},[_c('div',{staticClass:\"value-table mkr-balance\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.mkr-balance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.mkrBalance)+\" \"+_vm._s(_vm.$t('dappsMaker.mkr')))])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enoughMkr),expression:\"!enoughMkr\"}],staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getMkr()}}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.get-mkr'))+\" \")])]),_c('div',{staticClass:\"value-table mkr-balance\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.dai-balance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.daiBalance)+\" \"+_vm._s(_vm.$t('dappsMaker.dai')))])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enoughDai),expression:\"!enoughDai\"}],staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getDai()}}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.get-dai'))+\" \")])]),_c('div',{staticClass:\"value-table other-values\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.outstanding-dai')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.debtValue)+\" \"+_vm._s(_vm.$t('dappsMaker.dai')))])])]),_c('div',{staticClass:\"value-block\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.stability-fee-in-mkr', { value: _vm.displayFixedValue( _vm.displayPercentValue(_vm.values.stabilityFee) ) }))+\" \")]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.getfeeOwed)+\" \"+_vm._s(_vm.$t('dappsMaker.mkr')))])])])])]),_c('div',{staticClass:\"buttons\"},[(_vm.needsDaiApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveDaiButton,\"click-function\":_vm.approveDai}})],1):_vm._e(),(_vm.needsMkrApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveMkrButton,\"click-function\":_vm.approveMkr}})],1):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.closeButton,\"button-disabled\":_vm.canClose ? false : true,\"click-function\":_vm.closeCdp}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.close-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      static\n      lazy\n      hide-footer\n    >\n      <div class=\"contents\">\n        <div v-if=\"!enoughMkr\" class=\"message-container\">\n          {{ $t('dappsMaker.not-enough-mkr-close') }}\n        </div>\n        <div v-if=\"!enoughDai\" class=\"message-container\">\n          {{ $t('dappsMaker.not-enough-dai-close') }}\n        </div>\n        <p class=\"top-text\">\n          {{ $t('dappsMaker.closing-notice') }}\n        </p>\n\n        <div class=\"value-table-container\">\n          <div class=\"value-table mkr-balance\">\n            <div class=\"value-block\">\n              <p>\n                <b>{{ $t('dappsMaker.mkr-balance') }}</b>\n              </p>\n              <p>\n                <b>{{ mkrBalance }} {{ $t('dappsMaker.mkr') }}</b>\n              </p>\n            </div>\n            <p v-show=\"!enoughMkr\" class=\"get-mkr\" @click=\"getMkr()\">\n              {{ $t('dappsMaker.get-mkr') }}\n            </p>\n          </div>\n\n          <div class=\"value-table mkr-balance\">\n            <div class=\"value-block\">\n              <p>\n                <b>{{ $t('dappsMaker.dai-balance') }}</b>\n              </p>\n              <p>\n                <b>{{ daiBalance }} {{ $t('dappsMaker.dai') }}</b>\n              </p>\n            </div>\n            <p v-show=\"!enoughDai\" class=\"get-mkr\" @click=\"getDai()\">\n              {{ $t('dappsMaker.get-dai') }}\n            </p>\n          </div>\n          <div class=\"value-table other-values\">\n            <div class=\"value-block\">\n              <p>{{ $t('dappsMaker.outstanding-dai') }}</p>\n              <p>\n                <b>{{ values.debtValue }} {{ $t('dappsMaker.dai') }}</b>\n              </p>\n            </div>\n            <div class=\"value-block\">\n              <p>\n                {{\n                  $t('dappsMaker.stability-fee-in-mkr', {\n                    value: displayFixedValue(\n                      displayPercentValue(values.stabilityFee)\n                    )\n                  })\n                }}\n              </p>\n              <p>\n                <b>{{ getfeeOwed }} {{ $t('dappsMaker.mkr') }}</b>\n              </p>\n            </div>\n          </div>\n        </div>\n        <!-- TODO: work these into the user flow.  Batch transaction would be better, but an initial try brought the browser crashing issue back -->\n        <div class=\"buttons\">\n          <div v-if=\"needsDaiApprove\">\n            <standard-button\n              :options=\"approveDaiButton\"\n              :click-function=\"approveDai\"\n            />\n          </div>\n          <div v-if=\"needsMkrApprove\">\n            <standard-button\n              :options=\"approveMkrButton\"\n              :click-function=\"approveMkr\"\n            />\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"closeButton\"\n            :button-disabled=\"canClose ? false : true\"\n            :click-function=\"closeCdp\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport BigNumber from 'bignumber.js/bignumber.js';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    makerManager: {\n      type: Object,\n      default: function() {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      govFee: 0,\n      closable: false,\n      modalDetailInformation: false,\n      textValues: {},\n      mkrToken: {},\n      daiToken: {},\n      approveMkrButton: {\n        title: 'Approve Maker',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      approveDaiButton: {\n        title: 'Approve Dai',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      closeButton: {\n        title: 'Close',\n        buttonStyle: 'green',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      suppliedFrom: {\n        symbol: 'ETH',\n        name: 'Ethereum'\n      },\n      suppliedTo: {\n        symbol: 'MKR',\n        name: 'Maker'\n      },\n      suppliedToAmount: 0,\n      destAddress: ''\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    getfeeOwed() {\n      const result = this.values.governanceFeeOwed;\n      return this.displayFixedValue(result, 8);\n    },\n    newCollateralRatio() {\n      if (this.values) {\n        return this.values.collatRatio;\n      }\n      return 0;\n    },\n    newCollateralRatioSafe() {\n      if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    },\n    mkrBalance() {\n      if (this.mkrToken) {\n        return this.mkrToken.balance;\n      }\n      return 0;\n    },\n    daiBalance() {\n      if (this.daiToken) {\n        return this.daiToken.balance;\n      }\n      return 0;\n    },\n    enoughMkr() {\n      const mkrNeeded = this.values.governanceFeeOwed;\n      if (mkrNeeded) {\n        return toBigNumber(this.mkrBalance)\n          .minus(mkrNeeded)\n          .gte(0);\n      }\n      return false;\n    },\n    enoughDai() {\n      if (this.values.zeroDebt) return true;\n      const daiNeeded = this.values.debtValue;\n      if (daiNeeded) {\n        return toBigNumber(this.daiBalance)\n          .minus(daiNeeded)\n          .gte(0);\n      }\n      return false;\n    },\n    needsDaiApprove() {\n      if (toBigNumber(this.values.proxyAllowanceDai).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceDai).lte(this.values.debtValue)\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceDai).eq(0);\n    },\n    needsMkrApprove() {\n      if (toBigNumber(this.values.proxyAllowanceMkr).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceMkr).lt(\n            this.values.governanceFeeOwed\n          )\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceMkr).eq(0);\n    },\n    canClose() {\n      return (\n        this.enoughMkr &&\n        this.enoughDai &&\n        !this.needsDaiApprove &&\n        !this.needsMkrApprove\n      );\n    }\n  },\n  watch: {\n    tokensWithBalance() {\n      this.getBalances();\n    }\n  },\n  async mounted() {\n    this.destAddress = this.account.address;\n    this.getBalances();\n    this.$refs.modal.$on('shown', async () => {\n      this.getBalances();\n    });\n  },\n  methods: {\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    },\n    async closeCdp() {\n      this.delayCloseModal();\n      this.$emit('closeCdp');\n    },\n    displayPercentValue(raw) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.times(100).toString();\n    },\n    displayFixedValue(raw, decimals = 3) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    },\n    maxDai() {\n      this.amount = this.values.maxDai;\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    getBalances() {\n      this.mkrToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'MKR';\n      });\n      this.daiToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'DAI';\n      });\n    },\n    getMkr() {\n      const mkrNeeded = this.getfeeOwed;\n      if (toBigNumber(this.mkrBalance).lt(mkrNeeded)) {\n        this.suppliedToAmount = toBigNumber(mkrNeeded)\n          .minus(toBigNumber(this.mkrBalance))\n          .plus(toBigNumber(mkrNeeded).times(0.01))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'MKR',\n          name: 'Maker'\n        };\n        this.$nextTick(() => {\n          this.$refs.swapWidget.$refs.modal.show();\n        });\n      }\n    },\n    getDai() {\n      const daiNeeded = this.values.debtValue;\n      if (toBigNumber(this.daiBalance).lt(daiNeeded)) {\n        this.suppliedToAmount = toBigNumber(daiNeeded)\n          .minus(toBigNumber(this.daiBalance))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'DAI',\n          name: 'Dai'\n        };\n        this.$eventHub.$emit(\n          'showSwapWidgetTo',\n          this.account.address,\n          this.suppliedFrom,\n          this.suppliedTo,\n          this.suppliedToAmount\n        );\n      }\n    },\n\n    async approveDai() {\n      this.$emit('approveDai');\n    },\n    async approveMkr() {\n      this.$emit('approveMkr');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CloseCdpModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CloseCdpModal.vue?vue&type=template&id=8e968400&scoped=true&\"\nimport script from \"./CloseCdpModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CloseCdpModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CloseCdpModal.vue?vue&type=style&index=0&id=8e968400&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e968400\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.move-title'),\"hide-footer\":\"\",\"centered\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content\"},[_c('p',{staticClass:\"top-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.move-notice'))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\" \")])]},proxy:true}])}),_c('div',{staticClass:\"input-container\"},[_c('label',[_vm._v(_vm._s(_vm.$t('dappsMaker.move-question')))]),_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address),expression:\"address\"}],domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value}}})])]),_c('div',[(_vm.destAddressHasProxy)?_c('div',[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.proxy-address', { value: _vm.destAddressProxy }))+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.move-with-proxy'))+\" \")]):_vm._e(),(!_vm.destAddressHasProxy)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.move-without-proxy'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.btnActive ? false : true,\"click-function\":_vm.moveCdp}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"check-box\"},[_c('label',{staticClass:\"check-box-container\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":_vm.checkBoxClicked}}),_c('span',{staticClass:\"checkmark\"}),_vm._t(\"terms\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"check-box\">\n    <label class=\"check-box-container\">\n      <input type=\"checkbox\" @click=\"checkBoxClicked\" /><span\n        class=\"checkmark\"\n      ></span>\n      <slot name=\"terms\"></slot>\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      checkboxChecked: false\n    };\n  },\n  methods: {\n    checkBoxClicked() {\n      this.checkboxChecked = !this.checkboxChecked;\n      this.$emit('changeStatus', this.checkboxChecked);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CheckBox.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckBox.vue?vue&type=template&id=74d90e30&scoped=true&\"\nimport script from \"./CheckBox.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckBox.vue?vue&type=style&index=0&id=74d90e30&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74d90e30\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.move-title')\"\n      hide-footer\n      centered\n      class=\"bootstrap-modal nopadding\"\n      static\n      lazy\n    >\n      <div class=\"modal-content\">\n        <p class=\"top-text\">\n          {{ $t('dappsMaker.move-notice') }}\n        </p>\n        <check-box @changeStatus=\"checkBoxClicked\">\n          <template v-slot:terms\n            ><p class=\"checkbox-label\">\n              {{ $t('dappsMaker.understand-and-agree') }}\n            </p></template\n          >\n        </check-box>\n\n        <div class=\"input-container\">\n          <label>{{ $t('dappsMaker.move-question') }}</label>\n          <div class=\"input-box\">\n            <input v-model=\"address\" />\n          </div>\n        </div>\n        <div>\n          <div v-if=\"destAddressHasProxy\">\n            <p>\n              {{ $t('dappsMaker.proxy-address', { value: destAddressProxy }) }}\n            </p>\n            {{ $t('dappsMaker.move-with-proxy') }}\n          </div>\n          <div v-if=\"!destAddressHasProxy\">\n            {{ $t('dappsMaker.move-without-proxy') }}\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"btnActive ? false : true\"\n            :click-function=\"moveCdp\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\n\nimport BigNumber from 'bignumber.js/bignumber.js';\n\nimport { Misc } from '@/helpers';\nexport default {\n  components: {\n    'check-box': CheckBox,\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    destAddressHasProxy: {\n      type: Boolean,\n      default: false\n    },\n    destAddressProxy: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      address: '',\n      amountEth: 0,\n      amountDai: 0,\n      govFee: 0,\n      modalDetailInformation: false,\n      checkBoxChecked: false,\n      textValues: {},\n      mkrToken: {},\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true,\n        fullWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    btnActive() {\n      return Misc.isValidETHAddress(this.address) && this.checkBoxChecked;\n    }\n  },\n  watch: {\n    address(newVal) {\n      if (Misc.isValidETHAddress(newVal)) {\n        this.$emit('checkForProxy', newVal);\n      }\n    }\n  },\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.address = '';\n    });\n  },\n  methods: {\n    closeCdp() {\n      this.activeCdp.closeCdp();\n    },\n    checkBoxClicked() {\n      this.checkBoxChecked = !this.checkBoxChecked;\n    },\n    displayPercentValue(raw) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.times(100).toString();\n    },\n    displayFixedValue(raw, decimals = 3) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    },\n    async moveCdp() {\n      if (Misc.isValidETHAddress(this.address)) {\n        this.$emit('moveCdp', this.address);\n        this.closeModal();\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'MoveCdp';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveCdp.vue?vue&type=template&id=85b1a0be&scoped=true&\"\nimport script from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoveCdp.vue?vue&type=style&index=0&id=85b1a0be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85b1a0be\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.generate-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('div',{staticClass:\"inputs\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.generate-question'))+\" \")]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"total\"},[_c('span',[_vm._v(_vm._s(_vm.$t('dappsMaker.total')))]),_vm._v(\" \"+_vm._s(_vm.newTotal)+\" \"+_vm._s(_vm.$t('dappsMaker.dai'))+\" \")]),_c('p',{staticClass:\"max\",on:{\"click\":_vm.maxDai}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.max-balance'))+\" \")])]),_c('div',{class:['input-box', _vm.allOk ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.dai')))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.canGenerateDaiAmount)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.above-max-dai'))+\" \")]):_vm._e(),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.collateral-ratio-val', { value: _vm.newCollateralRatio }))+\" \")])])]),_c('expanding-option',{attrs:{\"title\":\"Details\"}},[_c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.max-generate-available')))]),_c('p',[_c('b',[_vm._v(\" \"+_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxDai) : 0)+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.dai'))+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.newCollateralRatio)+\"%\")])])])])]),(!_vm.newCollateralRatioSafe && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.liquidation-risk', { value: _vm.newCollateralRatio }))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\" \")])]},proxy:true}],null,false,196307094)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.generateButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.generate-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"contents\">\n        <div class=\"inputs\">\n          <div class=\"interface__block-title\">\n            {{ $t('dappsMaker.generate-question') }}\n          </div>\n          <div class=\"top-buttons\">\n            <p class=\"total\">\n              <span>{{ $t('dappsMaker.total') }}</span>\n              {{ newTotal }}\n              {{ $t('dappsMaker.dai') }}\n            </p>\n            <p class=\"max\" @click=\"maxDai\">\n              {{ $t('dappsMaker.max-balance') }}\n            </p>\n          </div>\n          <div :class=\"['input-box', allOk ? '' : 'danger']\">\n            <input v-model=\"amount\" />\n            <p class=\"input-unit\">{{ $t('dappsMaker.dai') }}</p>\n          </div>\n          <div class=\"sub-text\">\n            <p v-if=\"!canGenerateDaiAmount\" class=\"above-max\">\n              {{ $t('dappsMaker.above-max-dai') }}\n            </p>\n            <p>\n              {{\n                $t('dappsMaker.collateral-ratio-val', {\n                  value: newCollateralRatio\n                })\n              }}\n            </p>\n          </div>\n        </div>\n        <expanding-option title=\"Details\">\n          <div class=\"detail-container\">\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.max-generate-available') }}</p>\n              <p>\n                <b>\n                  {{ values.maxDai ? displayFixedValue(values.maxDai) : 0 }}\n                </b>\n                {{ $t('dappsMaker.dai') }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b>{{ newCollateralRatio }}%</b>\n              </p>\n            </div>\n          </div>\n        </expanding-option>\n\n        <div\n          v-if=\"!newCollateralRatioSafe && notZero(amount)\"\n          class=\"warning-confirmation\"\n        >\n          <div class=\"grid-block\">\n            <div class=\"sign\"></div>\n            <div class=\"text-content\">\n              <p class=\"title\">{{ $t('dappsMaker.caution') }}</p>\n              <p class=\"warning-details\">\n                {{\n                  $t('dappsMaker.liquidation-risk', {\n                    value: newCollateralRatio\n                  })\n                }}\n              </p>\n              <check-box @changeStatus=\"checkBoxClicked\">\n                <template v-slot:terms\n                  ><p class=\"checkbox-label\">\n                    {{ $t('dappsMaker.understand-and-agree') }}\n                  </p></template\n                >\n              </check-box>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"generateButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport {\n  displayFixedValue,\n  displayPercentValue,\n  displayFixedPercent\n} from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      generateButton: {\n        title: 'Generate',\n        buttonStyle: 'green',\n        noMinWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    allOk() {\n      if (this.amountPresent) {\n        return this.newCollateralRatioSafe && this.canGenerateDaiAmount;\n      }\n      return true;\n    },\n    showWarning() {\n      return (\n        !this.newCollateralRatioInvalid &&\n        this.canGenerateDaiAmount &&\n        this.riskyBypass\n      );\n    },\n    newTotal() {\n      return toBigNumber(this.values.debtValue).plus(this.amount);\n    },\n    hasEnoughEth() {\n      if (this.canCompute) {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    canGenerateDaiAmount() {\n      if (this.canCompute && !toBigNumber(this.amount).isNaN()) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\n      }\n      return true;\n    },\n    canProceed() {\n      if (this.canCompute) {\n        if (toBigNumber(this.amount).lte(0)) return false;\n        return (\n          (this.newCollateralRatioSafe && this.canGenerateDaiAmount) ||\n          (!this.newCollateralRatioInvalid &&\n            this.canGenerateDaiAmount &&\n            this.riskyBypass)\n        );\n      }\n      return false;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n      return 0;\n    },\n    newCollateralRatio() {\n      if (this.canCompute || this.values) {\n        return this.displayFixedPercent(this.calcCollateralRatio);\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.canCompute) {\n        return this.calcCollateralRatio.gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.canCompute) {\n        return this.calcCollateralRatio.lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.canCompute) {\n        return this.calcLiquidationPriceDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.drawDai();\n    },\n    checkBoxClicked(checked) {\n      this.riskyBypass = checked;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    displayFixedPercent,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxDai() {\n      this.amount = toBigNumber(this.values.maxDai).minus(\n        toBigNumber(this.values.maxDai).times(0.01)\n      );\n      this.$forceUpdate();\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async drawDai() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (this.newCollateralRatioSafe) {\n          this.$emit('drawDai', [this.amount, null]);\n        } else {\n          this.$emit('drawDai', [this.amount, this.riskyBypass]);\n        }\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'GenerateModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GenerateModal.vue?vue&type=template&id=658756ce&scoped=true&\"\nimport script from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nexport * from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GenerateModal.vue?vue&type=style&index=0&id=658756ce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"658756ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.deposit-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.deposit-question'))+\" \")]),_c('div',{class:['input-box', _vm.hasEnoughEth ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.digitalCurrency))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.hasEnoughEth)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.notEnoughEth'))+\" \")]):_vm._e(),_c('div',{staticClass:\"peth\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.values.toPeth ? _vm.displayFixedValue(_vm.values.toPeth(_vm.amount), 5, false) : 0)+\" \"+_vm._s(_vm.$t('common.currency.peth'))+\" \")]),_c('popover',{attrs:{\"popcontent\":_vm.$t('dappsMaker.peth-popover')}})],1)])])]),_c('div',{staticClass:\"detail-info\"},[_c('div',{staticClass:\"info\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.detail-info')))]),_c('div',{staticClass:\"sliding-switch-white\"},[_c('label',{staticClass:\"switch\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){_vm.modalDetailInformation = !_vm.modalDetailInformation}}}),_c('span',{staticClass:\"slider round\"})])])]),_c('div',{staticClass:\"expended-info\",class:_vm.modalDetailInformation && 'expended-info-open'},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.currently-deposited')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.values.ethCollateral, 5)))]),_vm._v(\" \"+_vm._s(_vm.digitalCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio), 3 ))+\"%\")])])])])])]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.deposit-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"modal-content-container\">\n        <div class=\"inputs-container\">\n          <div class=\"input-container\">\n            <div class=\"interface__block-title\">\n              {{ $t('dappsMaker.deposit-question') }}\n            </div>\n            <div :class=\"['input-box', hasEnoughEth ? '' : 'danger']\">\n              <input v-model=\"amount\" />\n              <span class=\"input-unit\">{{ digitalCurrency }}</span>\n            </div>\n            <div class=\"sub-text\">\n              <p v-if=\"!hasEnoughEth\" class=\"above-max\">\n                {{ $t('dappsMaker.notEnoughEth') }}\n              </p>\n              <div class=\"peth\">\n                <p>\n                  {{\n                    values.toPeth\n                      ? displayFixedValue(values.toPeth(amount), 5, false)\n                      : 0\n                  }}\n                  {{ $t('common.currency.peth') }}\n                </p>\n                <popover :popcontent=\"$t('dappsMaker.peth-popover')\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"detail-info\">\n          <div class=\"info\">\n            <h4>{{ $t('dappsMaker.detail-info') }}</h4>\n            <div class=\"sliding-switch-white\">\n              <label class=\"switch\">\n                <input\n                  type=\"checkbox\"\n                  @click=\"modalDetailInformation = !modalDetailInformation\"\n                />\n                <span class=\"slider round\" />\n              </label>\n            </div>\n          </div>\n          <div\n            :class=\"modalDetailInformation && 'expended-info-open'\"\n            class=\"expended-info\"\n          >\n            <div class=\"padding-container\">\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.currently-deposited') }}</p>\n                <p>\n                  <b>{{ displayFixedValue(values.ethCollateral, 5) }}</b>\n                  {{ digitalCurrency }}\n                </p>\n              </div>\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n                <p>\n                  <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                  {{ fiatCurrency }}\n                </p>\n              </div>\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n                <p>\n                  <b\n                    >{{\n                      displayFixedValue(\n                        displayPercentValue(newCollateralRatio),\n                        3\n                      )\n                    }}%</b\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    hasEnoughEth() {\n      if (this.amount || this.amount !== '') {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    canWithdrawEthAmount() {\n      if (this.amount || this.amount !== '') {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canProceed() {\n      if (toBigNumber(this.amount).lte(0)) return false;\n      const ratio = toBigNumber(this.newCollateralRatio);\n      const ratioOk = ratio.gt(1.5) || ratio.eq(0);\n      return this.hasEnoughEth && (ratioOk || this.riskyBypass);\n    },\n    newCollateralRatio() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return 0;\n    },\n    newCollateralRatioSafe() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        ).gte(2);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        ).lte(1.5);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values && this.amount > 0) {\n        return this.calcLiquidationPriceEthChg(\n          toBigNumber(this.values.ethCollateral).plus(toBigNumber(this.amount))\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.lockEth();\n    },\n    checkBoxClicked() {\n      this.riskyBypass = !this.riskyBypass;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async lockEth() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        this.$emit('lockEth', this.amount);\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'DepositModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DepositModal.vue?vue&type=template&id=c58e58c4&scoped=true&\"\nimport script from \"./DepositModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DepositModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DepositModal.vue?vue&type=style&index=0&id=c58e58c4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c58e58c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.withdraw-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('p',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.withdraw-notice'))+\" \")]),_c('label',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.withdraw-question')))]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"max-withdraw\",on:{\"click\":_vm.maxWithdraw}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.max-withdraw'))+\" \")])]),_c('div',{class:['input-box', _vm.newCollateralRatioSafe ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.digitalCurrency))])]),_c('div',{staticClass:\"sub-text\"},[(_vm.canWithdrawEthNotice)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.over-max-withdraw'))+\" \")]):_vm._e(),_c('div',{staticClass:\"peth\"},[_c('p',{staticClass:\"peth-value\"},[_vm._v(\" \"+_vm._s(_vm.values.toPeth ? _vm.displayFixedValue(_vm.values.toPeth(_vm.amount), 5, false) : 0)+\" \"+_vm._s(_vm.$t('dappsMaker.peth'))+\" \")]),_c('popover',{attrs:{\"popcontent\":_vm.$t('dappsMaker.peth-popover')}})],1)])])]),_c('expanding-option',{attrs:{\"title\":\"Detail Information\"}},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.max-withdraw-available')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxEthDraw, 5) : 0))]),_vm._v(\" \"+_vm._s(_vm.digitalCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio), 3 ))+\"%\")])])])])]),(!_vm.newCollateralRatioSafe && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.liquidation-risk', { value: _vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio) ) }))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\" \")])]},proxy:true}],null,false,196307094)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.withdraw-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"modal-content-container\">\n        <div class=\"inputs-container\">\n          <div class=\"input-container\">\n            <p class=\"message\">\n              {{ $t('dappsMaker.withdraw-notice') }}\n            </p>\n            <label> {{ $t('dappsMaker.withdraw-question') }}</label>\n            <div class=\"top-buttons\">\n              <p class=\"max-withdraw\" @click=\"maxWithdraw\">\n                {{ $t('dappsMaker.max-withdraw') }}\n              </p>\n            </div>\n            <div :class=\"['input-box', newCollateralRatioSafe ? '' : 'danger']\">\n              <input v-model=\"amount\" />\n              <span class=\"input-unit\">{{ digitalCurrency }}</span>\n            </div>\n            <div class=\"sub-text\">\n              <p v-if=\"canWithdrawEthNotice\" class=\"above-max\">\n                {{ $t('dappsMaker.over-max-withdraw') }}\n              </p>\n              <div class=\"peth\">\n                <p class=\"peth-value\">\n                  {{\n                    values.toPeth\n                      ? displayFixedValue(values.toPeth(amount), 5, false)\n                      : 0\n                  }}\n                  {{ $t('dappsMaker.peth') }}\n                </p>\n                <popover :popcontent=\"$t('dappsMaker.peth-popover')\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <expanding-option title=\"Detail Information\">\n          <div class=\"padding-container\">\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.max-withdraw-available') }}</p>\n              <p>\n                <b>{{\n                  values.maxDai ? displayFixedValue(values.maxEthDraw, 5) : 0\n                }}</b>\n                {{ digitalCurrency }}\n              </p>\n            </div>\n\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b\n                  >{{\n                    displayFixedValue(\n                      displayPercentValue(newCollateralRatio),\n                      3\n                    )\n                  }}%</b\n                >\n              </p>\n            </div>\n          </div>\n        </expanding-option>\n\n        <div\n          v-if=\"!newCollateralRatioSafe && notZero(amount)\"\n          class=\"warning-confirmation\"\n        >\n          <div class=\"grid-block\">\n            <div class=\"sign\"></div>\n            <div class=\"text-content\">\n              <p class=\"title\">{{ $t('dappsMaker.caution') }}</p>\n              <p class=\"warning-details\">\n                {{\n                  $t('dappsMaker.liquidation-risk', {\n                    value: displayFixedValue(\n                      displayPercentValue(newCollateralRatio)\n                    )\n                  })\n                }}\n              </p>\n              <check-box @changeStatus=\"checkBoxClicked\">\n                <template v-slot:terms>\n                  <p class=\"checkbox-label\">\n                    {{ $t('dappsMaker.understand-and-agree') }}\n                  </p>\n                </template>\n              </check-box>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    canWithdrawEthNotice() {\n      if (this.amountPresent) {\n        return !toBigNumber(this.amount).lte(\n          toBigNumber(this.values.maxEthDraw)\n        );\n      }\n      return false;\n    },\n    canWithdrawEthAmount() {\n      if (this.amountPresent) {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canProceed() {\n      if (this.amountPresent) {\n        if (toBigNumber(this.amount).lte(0)) return false;\n        return (\n          (this.newCollateralRatioSafe && this.canWithdrawEthAmount) ||\n          (!this.newCollateralRatioInvalid &&\n            this.canWithdrawEthAmount &&\n            this.riskyBypass)\n        );\n      }\n      return false;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n      return 0;\n    },\n    newCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).minus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.canCompute) {\n        if (this.values.zeroDebt) return true;\n        return this.newCollateralRatio.gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.canCompute) {\n        if (this.values.zeroDebt) return false;\n        return this.newCollateralRatio.lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.canCompute) {\n        return this.calcLiquidationPriceEthChg(\n          toBigNumber(this.values.ethCollateral).minus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n    });\n    this.$refs.modal.$on('hidden', () => {\n      this.amount = 0;\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.freeEth();\n    },\n    checkBoxClicked(checked) {\n      this.riskyBypass = checked;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxWithdraw() {\n      this.amount = this.values.maxEthDraw;\n      this.$forceUpdate();\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async freeEth() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (this.newCollateralRatioSafe) {\n          this.$emit('freeEth', [this.amount, null]);\n        } else {\n          this.$emit('freeEth', [this.amount, this.riskyBypass]);\n        }\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'WithdrawModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WithdrawModal.vue?vue&type=template&id=2e7e7856&scoped=true&\"\nimport script from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nexport * from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WithdrawModal.vue?vue&type=style&index=0&id=2e7e7856&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e7e7856\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.payback-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('p',{staticClass:\"top-message\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.payback-notice'))+\" \")]),(!_vm.hasEnoughMkr)?_c('div',[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.mkr-balance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.mkrBalance)+\" \"+_vm._s(_vm.$t('dappsMaker.mkr')))])])]),_c('p',{staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getMkr()}}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.get-mkr'))+\" \")])]):_vm._e(),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"top-buttons\"},[_c('p',{on:{\"click\":_vm.currentDai}},[_vm._v(_vm._s(_vm.$t('dappsMaker.set-max')))])]),_c('div',{class:['dai-amount', _vm.hasEnoughDai ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"floating-text\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.dai')))])])]),_c('expanding-option',{attrs:{\"title\":\"Detail Information\"}},[_c('ul',{staticClass:\"details\"},[_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.outstanding-dai')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.debtValue ? _vm.displayFixedValue(_vm.values.debtValue, 3) : 0))]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.dai'))+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.stability-fee-owed')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.governanceFeeOwed))]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.mkr'))+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio), 3 ))+\"%\")])])])])]),_c('div',{staticClass:\"buttons\"},[(_vm.needsDaiApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveDaiButton,\"click-function\":_vm.approveDai}})],1):_vm._e(),(_vm.needsMkrApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveMkrButton,\"click-function\":_vm.approveMkr}})],1):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton,\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.payback-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"contents\">\n        <p class=\"top-message\">\n          {{ $t('dappsMaker.payback-notice') }}\n        </p>\n        <div v-if=\"!hasEnoughMkr\">\n          <div class=\"value-block\">\n            <p>\n              <b>{{ $t('dappsMaker.mkr-balance') }}</b>\n            </p>\n            <p>\n              <b>{{ mkrBalance }} {{ $t('dappsMaker.mkr') }}</b>\n            </p>\n          </div>\n          <p class=\"get-mkr\" @click=\"getMkr()\">\n            {{ $t('dappsMaker.get-mkr') }}\n          </p>\n        </div>\n        <div class=\"input-container\">\n          <div class=\"top-buttons\">\n            <p @click=\"currentDai\">{{ $t('dappsMaker.set-max') }}</p>\n          </div>\n          <div :class=\"['dai-amount', hasEnoughDai ? '' : 'danger']\">\n            <input v-model=\"amount\" />\n            <p class=\"floating-text\">{{ $t('dappsMaker.dai') }}</p>\n          </div>\n        </div>\n\n        <expanding-option title=\"Detail Information\">\n          <ul class=\"details\">\n            <li>\n              <p>{{ $t('dappsMaker.outstanding-dai') }}</p>\n              <p>\n                <b>{{\n                  values.debtValue ? displayFixedValue(values.debtValue, 3) : 0\n                }}</b>\n                {{ $t('dappsMaker.dai') }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.stability-fee-owed') }}</p>\n              <p>\n                <b>{{ values.governanceFeeOwed }}</b> {{ $t('dappsMaker.mkr') }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b\n                  >{{\n                    displayFixedValue(\n                      displayPercentValue(newCollateralRatio),\n                      3\n                    )\n                  }}%</b\n                >\n              </p>\n            </li>\n          </ul>\n        </expanding-option>\n        <div class=\"buttons\">\n          <div v-if=\"needsDaiApprove\">\n            <standard-button\n              :options=\"approveDaiButton\"\n              :click-function=\"approveDai\"\n            />\n          </div>\n          <div v-if=\"needsMkrApprove\">\n            <standard-button\n              :options=\"approveMkrButton\"\n              :click-function=\"approveMkr\"\n            />\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"cancelButton\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\nimport StandardButton from '@/components/Buttons/StandardButton';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      mkrToken: {},\n      daiToken: {},\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true,\n        fullWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true,\n        fullWidth: true\n      },\n      approveMkrButton: {\n        title: 'Approve Maker',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      approveDaiButton: {\n        title: 'Approve Dai',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      suppliedFrom: {\n        symbol: 'ETH',\n        name: 'Ethereum'\n      },\n      suppliedTo: {\n        symbol: 'MKR',\n        name: 'Maker'\n      },\n      suppliedToAmount: 0,\n      destAddress: ''\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    allOk() {\n      if (this.amountPresent) {\n        return this.newCollateralRatioSafe && this.canGenerateDaiAmount;\n      }\n      return true;\n    },\n    hasEnoughEth() {\n      if (this.canCompute) {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    paybackFee() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount)\n          .div(this.values.debtValue)\n          .times(this.values.governanceFeeOwed);\n      }\n      return 0;\n    },\n    hasEnoughMkr() {\n      if (this.canCompute) {\n        return toBigNumber(this.mkrBalance).gte(toBigNumber(this.paybackFee));\n      }\n      return true;\n    },\n    hasEnoughDai() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.daiBalance));\n      }\n      return true;\n    },\n    canWithdrawEthAmount() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canGenerateDaiAmount() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\n      }\n      return true;\n    },\n    canProceed() {\n      return this.hasEnoughDai;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).minus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n      return '--';\n    },\n    newCollateralRatio() {\n      if (this.amount > 0) {\n        return this.calcCollateralRatio;\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.amount > 0) {\n        if (this.calcCollateralRatio.lte(new BigNumber(0.000009))) {\n          return true;\n        }\n        return this.calcCollateralRatio.gte(2);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.amount > 0) {\n        // If less than a very small number\n        if (this.calcCollateralRatio.lte(new BigNumber(0.000009))) {\n          return true;\n        }\n        return this.calcCollateralRatio.gte(1.5);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values.debtValue && this.amount > 0) {\n        return this.calcLiquidationPriceDaiChg(\n          toBigNumber(this.values.debtValue).minus(this.amount)\n        );\n      } else if (this.values.liquidationPrice) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    },\n    mkrBalance() {\n      if (this.mkrToken) {\n        return this.mkrToken.balance;\n      }\n      return 0;\n    },\n    daiBalance() {\n      if (this.daiToken) {\n        return this.daiToken.balance;\n      }\n      return 0;\n    },\n    needsDaiApprove() {\n      if (toBigNumber(this.values.proxyAllowanceDai).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceDai).lt(this.values.debtValue)\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceDai).eq(0);\n    },\n    needsMkrApprove() {\n      if (toBigNumber(this.values.proxyAllowanceMkr).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceMkr).lt(\n            this.values.governanceFeeOwed\n          )\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceMkr).eq(0);\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n      this.getBalances();\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.wipeDai();\n    },\n    checkBoxClicked() {\n      this.riskyBypass = !this.riskyBypass;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxDai() {\n      this.amount = toBigNumber(this.values.maxDai).minus(\n        toBigNumber(this.values.maxDai).times(0.01)\n      );\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async wipeDai() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (toBigNumber(this.amount).gt(this.values.debtValue)) {\n          this.$emit('wipeDai', this.values.debtValue);\n        } else {\n          this.$emit('wipeDai', this.amount);\n        }\n      }\n    },\n    getBalances() {\n      this.mkrToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'MKR';\n      });\n      this.daiToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'DAI';\n      });\n    },\n    getMkr() {\n      const mkrNeeded = this.paybackFee;\n      if (toBigNumber(this.mkrBalance).lt(mkrNeeded)) {\n        this.suppliedToAmount = toBigNumber(mkrNeeded)\n          .minus(toBigNumber(this.mkrBalance))\n          .plus(toBigNumber(mkrNeeded).times(0.01))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'MKR',\n          name: 'Maker'\n        };\n        this.$eventHub.$emit(\n          'showSwapWidgetTo',\n          this.account.address,\n          this.suppliedFrom,\n          this.suppliedTo,\n          this.suppliedToAmount\n        );\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    },\n    async approveDai() {\n      this.$emit('approveDai');\n    },\n    async approveMkr() {\n      this.$emit('approveMkr');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'PaybackModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaybackModal.vue?vue&type=template&id=65ff3c04&scoped=true&\"\nimport script from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaybackModal.vue?vue&type=style&index=0&id=65ff3c04&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65ff3c04\",\n  null\n  \n)\n\nexport default component.exports","import Maker from '@makerdao/dai';\nimport BigNumber from 'bignumber.js';\nimport {\n  calcLiquidationPrice,\n  calcCollatRatio,\n  maxPethDraw,\n  maxEthDraw,\n  maxDai\n} from './helpers';\nconst { MKR, DAI } = Maker;\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default class MakerCDP {\n  constructor(cdpId, web3, services, sysVars) {\n    this.cdpId = cdpId;\n    this.cdp = {};\n    this.web3 = web3 || {};\n    this.ready = false;\n    this.doUpdate = 0;\n    this.cdps = [];\n    this.noProxy = sysVars.noProxy || false;\n    this.services = services || null;\n    this.needsUpdate = false;\n    this.closing = false;\n    this.opening = false;\n    this.migrated = false;\n    this.migrateCdpActive = false;\n    this.migrateCdpStage = 0;\n\n    this._liqPrice = toBigNumber(0);\n    this.isSafe = false;\n    this.debtValue = toBigNumber(0);\n    this._collatRatio = 0;\n    this.ethCollateral = toBigNumber(0);\n    this.pethCollateral = toBigNumber(0);\n    this._usdCollateral = toBigNumber(0);\n    this._governanceFee = toBigNumber(0);\n  }\n\n  // Getters\n  get currentAddress() {\n    return this.services.account.address;\n  }\n\n  get liquidationPenalty() {\n    return this.services.liquidationPenalty;\n  }\n\n  get stabilityFee() {\n    return this.services.stabilityFee;\n  }\n\n  get ethPrice() {\n    return this.services.ethPrice;\n  }\n\n  get pethPrice() {\n    return this.services._pethPrice;\n  }\n\n  get wethToPethRatio() {\n    return this.services.wethToPethRatio;\n  }\n\n  get liquidationRatio() {\n    return this.services.liquidationRatio;\n  }\n\n  get proxyAddress() {\n    return this.services._proxyAddress;\n  }\n\n  get hasProxy() {\n    return this.services.hasProxy;\n  }\n\n  get proxyAllowanceDai() {\n    return this.services.proxyAllowanceDai;\n  }\n\n  get proxyAllowanceMkr() {\n    return this.services.proxyAllowanceMkr;\n  }\n\n  get daiToken() {\n    return this.services._daiToken;\n  }\n\n  get daiBalance() {\n    return this.services.daiBalance;\n  }\n\n  get mkrToken() {\n    return this.services._mkrToken;\n  }\n\n  get mkrBalance() {\n    return this.services.mkrBalance;\n  }\n\n  get proxyService() {\n    return this.services._proxyService;\n  }\n\n  get cdpService() {\n    return this.services._cdpService;\n  }\n\n  get minEth() {\n    return this.services.minEth();\n  }\n\n  get pethMin() {\n    return this.services.pethMin;\n  }\n\n  // CDP Instance/item values\n\n  get zeroDebt() {\n    return toBigNumber(this.debtValue).eq(0);\n  }\n\n  get usdCollateral() {\n    return this.toUSD(this.ethCollateral);\n  }\n\n  get ethCollateralNum() {\n    return this.ethCollateral.toNumber();\n  }\n\n  get collatRatio() {\n    return this._collatRatio;\n  }\n\n  get liquidationPrice() {\n    return this._liqPrice;\n  }\n\n  get governanceFeeOwed() {\n    return this._governanceFee;\n  }\n\n  get maxDai() {\n    if (\n      this.ethPrice &&\n      this.ethCollateral &&\n      this.liquidationRatio &&\n      this.debtValue\n    ) {\n      return maxDai(\n        this.ethPrice,\n        this.ethCollateral,\n        this.liquidationRatio.plus(0.001),\n        this.debtValue\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxEthDraw() {\n    if (this.ethPrice && this.debtValue && this.liquidationRatio) {\n      if (this.zeroDebt) {\n        return maxEthDraw(\n          this.ethCollateral,\n          this.liquidationRatio,\n          this.debtValue,\n          this.ethPrice,\n          this.minEth.times(0)\n        );\n      }\n      return maxEthDraw(\n        this.ethCollateral,\n        this.liquidationRatio,\n        this.debtValue,\n        this.ethPrice\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxPethDraw() {\n    if (this.pethPrice && this.pethCollateral && this.liquidationRatio) {\n      if (this.zeroDebt) {\n        return maxPethDraw(\n          this.pethCollateral,\n          this.liquidationRatio,\n          this.debtValue,\n          this.pethPrice,\n          this.pethMin.times(0)\n        );\n      }\n      return maxPethDraw(\n        this.pethCollateral,\n        this.liquidationRatio,\n        this.debtValue,\n        this.pethPrice\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxUsdDraw() {\n    if (this.pethPrice && this.pethCollateral && this.liquidationRatio) {\n      return this.toUSD(this.maxEthDraw);\n    }\n    return toBigNumber(0);\n  }\n\n  get needToFinishMigrating() {\n    return this._proxyAddress && this.noProxy;\n  }\n\n  // Methods\n  async init(cdpId = this.cdpId) {\n    await this.updateValues(cdpId);\n    this._governanceFee = (\n      await this.cdpService.getGovernanceFee(this.cdpId, MKR)\n    ).toBigNumber();\n\n    this.ready = true;\n    return this;\n  }\n\n  async updateValues(cdpId = this.cdpId) {\n    this._proxyAddress = await this.services.getProxy();\n    this.noProxy = this._proxyAddress === null;\n    if (this._proxyAddress) {\n      this.cdp = await this.services.getCdp(cdpId, this._proxyAddress);\n    } else {\n      this.cdp = await this.services.getCdp(cdpId, false);\n    }\n    const liqPrice = await this.cdp.getLiquidationPrice();\n    this._liqPrice = liqPrice.toBigNumber().toFixed(2);\n    this.isSafe = await this.cdp.isSafe();\n    this.debtValue = (await this.cdp.getDebtValue()).toBigNumber();\n    this._collatRatio = await this.cdp.getCollateralizationRatio();\n    this.ethCollateral = (await this.cdp.getCollateralValue()).toBigNumber();\n    this.pethCollateral = (\n      await this.cdp.getCollateralValue(Maker.PETH)\n    ).toBigNumber();\n    this._usdCollateral = (\n      await this.cdp.getCollateralValue(Maker.USD)\n    ).toBigNumber();\n  }\n\n  async update() {\n    if (this.migrated) {\n      const currentProxy = await this.proxyService.currentProxy();\n      if (currentProxy) {\n        this.migrated = false;\n        await this.cdpService.give(this.cdpId, this._proxyAddress);\n      }\n    }\n    if (this.needsUpdate) {\n      this.opening = false;\n      this.needsUpdate = false;\n      await this.updateValues(this.cdpId);\n      this.doUpdate++;\n      return this;\n    }\n    return this;\n  }\n\n  async getProxy() {\n    this._proxyAddress = await this.services.getProxy();\n  }\n\n  async migrateCdp() {\n    const currentProxy = await this.getProxy();\n    if (!currentProxy) {\n      this.needsUpdate = true;\n      return await this.proxyService.ensureProxy();\n    } else if (this.needToFinishMigrating) {\n      this.needsUpdate = true;\n      await this.cdpService.give(this.cdpId, this._proxyAddress);\n    }\n  }\n\n  async openCdp(ethQty, daiQty) {\n    if (ethQty <= 0) return 0;\n    let newCdp;\n    if (!this.hasProxy) {\n      this.opening = true;\n      this.needsUpdate = true;\n      newCdp = await this.cdpService.openProxyCdpLockEthAndDrawDai(\n        ethQty,\n        daiQty,\n        null\n      );\n    } else {\n      this.opening = true;\n      this.needsUpdate = true;\n      newCdp = await this.cdpService.openProxyCdpLockEthAndDrawDai(\n        ethQty,\n        daiQty,\n        this.proxyAddress\n      );\n    }\n\n    return newCdp.id;\n  }\n\n  async lockEth(amount) {\n    try {\n      if (this.noProxy) {\n        return;\n      }\n      this.needsUpdate = true;\n      await this.cdpService.lockEthProxy(\n        this._proxyAddress,\n        this.cdpId,\n        amount\n      );\n    } catch (e) {\n      // eslint-disable-next-line\n      console.error(e);\n    }\n  }\n\n  drawDai(amount, acknowledgeBypass = false) {\n    if (\n      this.calcCollatRatio(this.ethCollateral, this.debtValue.plus(amount)).gt(\n        2\n      ) ||\n      acknowledgeBypass\n    ) {\n      try {\n        if (this.noProxy) {\n          return;\n        }\n        this.needsUpdate = true;\n        this.cdpService.drawDaiProxy(this._proxyAddress, this.cdpId, amount);\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    }\n  }\n\n  // This should also have a acknowledgeBypass\n  async freeEth(amount, acknowledgeBypass = false) {\n    if (\n      this.debtValue.eq(0) ||\n      this.calcCollatRatio(this.ethCollateral.minus(amount), this.debtValue).gt(\n        1.5\n      ) ||\n      acknowledgeBypass\n    ) {\n      try {\n        if (this.noProxy) {\n          return;\n        }\n        this.needsUpdate = true;\n        await this.cdpService.freeEthProxy(\n          this._proxyAddress,\n          this.cdpId,\n          amount\n        );\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    }\n  }\n\n  async wipeDai(amount) {\n    try {\n      if (this.noProxy) {\n        return;\n      }\n      this.needsUpdate = true;\n      await this.cdpService.wipeDaiProxy(\n        this._proxyAddress,\n        this.cdpId,\n        amount\n      );\n    } catch (e) {\n      // eslint-disable-next-line\n      console.error(e);\n    }\n  }\n\n  async canCloseCdp() {\n    const value = this.debtValue.toNumber();\n    return await this.cdpService.enoughMkrToWipe(this.cdpId, value);\n  }\n\n  async closeCdp() {\n    try {\n      this.needsUpdate = true;\n      this.closing = true;\n\n      if (this.hasProxy) {\n        await this.cdpService.shutProxy(this._proxyAddress, this.cdpId);\n      }\n    } catch (e) {\n      // eslint-disable-next-line\n      console.log('closeCdp Error:');\n      // eslint-disable-next-line\n      console.error(e);\n    }\n    // }\n  }\n\n  async checkIfDestAddressHasProxy(address) {\n    await this.getProxy();\n    const proxy = await this.proxyService.getProxyAddress(address);\n    return proxy;\n  }\n\n  async moveCdp(address) {\n    await this.getProxy();\n    const proxy = await this.proxyService.getProxyAddress(address);\n    if (proxy) {\n      this.needsUpdate = true;\n      this.closing = true; // for the purpose of displaying to the user closing and moving are the same\n      await this.cdpService.giveProxy(this._proxyAddress, this.cdpId, proxy);\n    } else if (!this.noProxy) {\n      this.needsUpdate = true;\n      this.closing = true;\n      await this.cdpService.giveProxy(this._proxyAddress, this.cdpId, address);\n    } else {\n      this.needsUpdate = true;\n      this.closing = true;\n      await this.cdpService.give(this.cdpId, address);\n    }\n  }\n\n  enoughMkrToWipe(amount) {\n    return this.cdpService.enoughMkrToWipe(amount, DAI.wei);\n  }\n\n  // Calculations\n  toUSD(eth) {\n    const toUsd = this.services.toUSD(eth);\n    if (toUsd.lt(0)) {\n      return toBigNumber(0);\n    }\n    return toUsd;\n  }\n\n  toPeth(eth) {\n    return this.services.toPeth(eth);\n  }\n\n  maxDaiDraw() {\n    const tl = toBigNumber(this.ethPrice).times(\n      toBigNumber(this.ethCollateral)\n    );\n    const tr = toBigNumber(this.debtValue).times(\n      toBigNumber(this.liquidationRatio)\n    );\n    return tl.minus(tr).div(toBigNumber(this.ethPrice));\n  }\n\n  calcCollatRatio(ethQty, daiQty) {\n    if (ethQty <= 0 || daiQty <= 0) return toBigNumber(0);\n    return calcCollatRatio(this.ethPrice, ethQty, daiQty);\n  }\n\n  calcLiquidationPrice(ethQty, daiQty) {\n    if (ethQty <= 0 || daiQty <= 0) return toBigNumber(0);\n    return calcLiquidationPrice(\n      ethQty,\n      daiQty,\n      this.ethPrice,\n      this.liquidationRatio\n    );\n  }\n\n  // Helpers\n  async approveDai() {\n    await this.daiToken.approveUnlimited(this.proxyAddress);\n  }\n\n  async approveMkr() {\n    await this.mkrToken.approveUnlimited(this.proxyAddress);\n  }\n\n  async getDaiBalances() {\n    this.daiBalance = await this.services.daiToken.balance();\n    return this.daiBalance;\n  }\n\n  // Static Helpers\n  static toNumber(val) {\n    if (BigNumber.isBigNumber(val)) {\n      return val.toNumber();\n    }\n    return toBigNumber(val).toNumber();\n  }\n\n  static displayPercentValue(raw) {\n    if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n    return raw.times(100).toString();\n  }\n\n  static displayFixedValue(raw, decimals = 3, round = true) {\n    if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n    if (round) return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    return raw.toFixed(decimals).toString();\n  }\n}\n","<template>\n  <div class=\"container-maker\">\n    <deposit-modal\n      ref=\"deposit\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @lockEth=\"lockEth\"\n    ></deposit-modal>\n    <generate-modal\n      ref=\"generate\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @drawDai=\"drawDai\"\n    ></generate-modal>\n    <withdraw-modal\n      ref=\"withdraw\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @freeEth=\"freeEth\"\n    ></withdraw-modal>\n    <payback-modal\n      ref=\"payback\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @wipeDai=\"wipeDai\"\n    ></payback-modal>\n    <close-cdp-modal\n      ref=\"closeCdp\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @closeCdp=\"closeCdp\"\n    >\n    </close-cdp-modal>\n    <move-cdp-modal\n      ref=\"moveCdp\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :dest-address-has-proxy=\"destAddressHasProxy\"\n      :dest-address-proxy=\"destAddressProxy\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @moveCdp=\"moveCdp\"\n      @checkForProxy=\"checkIfDestAddressHasProxy\"\n    >\n    </move-cdp-modal>\n    <back-button :path=\"'/interface/dapps/'\">\n      <div class=\"back-bar-container\">\n        <div v-if=\"showMoveOrClose\" class=\"header-buttons-container\">\n          <div class=\"inner-container\">\n            <button class=\"move-btn\" @click=\"showMove\">\n              <h4>{{ $t('dappsMaker.move-title') }}</h4>\n            </button>\n            <div v-if=\"!((!hasProxy && !onCreate) || showCdpMigrateButtons)\">\n              <button class=\"close-btn\" @click=\"showClose\">\n                <h4>{{ $t('dappsMaker.close-title') }}</h4>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </back-button>\n    <div v-if=\"makerActive\" class=\"buttons-container\">\n      <div v-if=\"showCreateProxy\">\n        <div class=\"dapps-button\" @click=\"buildProxy\">\n          <h4>{{ $t('dappsMaker.create-proxy') }}</h4>\n        </div>\n      </div>\n      <div v-if=\"showCreateProxy\" class=\"proxy-container\">\n        {{ $t('dappsMaker.proxy-instructions') }}\n      </div>\n      <div v-if=\"showCdpMigrateButtons\">\n        <div v-for=\"(value, idx) in cdpsWithoutProxy\" :key=\"idx + value\">\n          <div class=\"dapps-button\">\n            <div @click=\"migrateCdpExternal(value)\">\n              <h4>\n                {{ $t('dappsMaker.migrate-cdp', { value: value }) }}\n              </h4>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"showCdpMigrateButtons\" class=\"proxy-container\">\n        {{ $t('dappsMaker.migrate-instructions') }}\n      </div>\n    </div>\n    <div v-show=\"makerActive\" class=\"buttons-container\">\n      <div v-if=\"showCreateProxy && cdpsWithoutProxy.length > 1\">\n        <div v-for=\"(value, idx) in cdpsWithoutProxy\" :key=\"idx + value\">\n          <div\n            :class=\"[\n              'dapps-button',\n              activeValues.cdpId === value ? 'active' : ''\n            ]\"\n          >\n            <div @click=\"openMigrate(value)\">\n              <h4>{{ $t('dappsMaker.cdp') }} #{{ value }}</h4>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-show=\"makerActive && listCdps\" class=\"buttons-container\">\n      <div v-for=\"(value, idx) in cdps\" :key=\"idx + value\">\n        <div\n          :class=\"[\n            'dapps-button',\n            activeValues.cdpId === value ? 'active' : ''\n          ]\"\n        >\n          <div @click=\"openManage(value)\">\n            <h4>{{ $t('dappsMaker.cdp') }} #{{ value }}</h4>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <router-view\n      :build-empty=\"buildEmpty\"\n      :maker-active=\"makerActive\"\n      :eth-price=\"ethPrice\"\n      :peth-price=\"pethPrice\"\n      :peth-min=\"pethMin\"\n      :weth-to-peth-ratio=\"wethToPethRatio\"\n      :liquidation-penalty=\"liquidationPenalty\"\n      :stability-fee=\"stabilityFee\"\n      :liquidation-ratio=\"liquidationRatio\"\n      :price-service=\"priceService\"\n      :cdp-service=\"cdpService\"\n      :proxy-service=\"proxyService\"\n      :cdps=\"cdps\"\n      :cdp-details-loaded=\"cdpDetailsLoaded\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      :migration-in-progress=\"migrationInProgress\"\n      :open-close-modal=\"openCloseModal\"\n      :open-move-modal=\"openMoveModal\"\n      :values-updated=\"valuesUpdated\"\n      :values=\"activeValues\"\n      :get-cdp=\"getCdp\"\n      :has-cdp=\"hasCdp\"\n      :loading-message1=\"$t('dappsMaker.initial-loading-one')\"\n      :loading-message2=\"$t('dappsMaker.initial-loading-two')\"\n      @activeCdpId=\"setupCdpManage\"\n      @cdpOpened=\"addCdp\"\n      @cdpClosed=\"removeCdp\"\n      @modalHidden=\"modalHidden\"\n      @managerUpdate=\"doUpdate\"\n      @showWithdraw=\"showWithdraw\"\n      @showPayback=\"showPayback\"\n      @showGenerate=\"showGenerate\"\n      @showDeposit=\"showDeposit\"\n      @migrateCdp=\"migrateCdpExternal\"\n    >\n    </router-view>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\nimport CloseCdpModal from './components/CloseCdpModal';\nimport MoveCdpModal from './components/MoveCdpModal';\nimport GenerateModal from './components/GenerateModal';\nimport DepositModal from './components/DepositModal';\nimport WithdrawModal from './components/WithdrawModal';\nimport PaybackModal from './components/PaybackModal';\nimport BigNumber from 'bignumber.js';\nimport Maker from '@makerdao/dai';\nimport { Toast } from '@/helpers';\nimport MakerCDP from './MakerCDP';\nimport { toChecksumAddress } from '@/helpers/addressUtils';\n\nimport MewPlugin from 'mew-maker-plugin';\nconst { MKR, DAI } = Maker;\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nconst bnOver = (one, two, three) => {\n  return toBigNumber(one)\n    .times(toBigNumber(two))\n    .div(toBigNumber(three));\n};\n\nexport default {\n  components: {\n    'generate-modal': GenerateModal,\n    'deposit-modal': DepositModal,\n    'withdraw-modal': WithdrawModal,\n    'payback-modal': PaybackModal,\n    'back-button': BackButton,\n    'close-cdp-modal': CloseCdpModal,\n    'move-cdp-modal': MoveCdpModal\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    getBalance: {\n      type: Function,\n      default: function() {}\n    },\n    highestGas: {\n      type: String,\n      default: '0'\n    }\n  },\n  data() {\n    return {\n      destAddressProxy: '',\n      destAddressHasProxy: false,\n      afterUpdate: [],\n      allCdpIds: [],\n      activeCdp: {},\n      activeValues: {\n        maxPethDraw: toBigNumber(0),\n        maxEthDraw: toBigNumber(0),\n        maxUsdDraw: toBigNumber(0),\n        ethCollateral: toBigNumber(0),\n        pethCollateral: toBigNumber(0),\n        usdCollateral: toBigNumber(0),\n        debtValue: toBigNumber(0),\n        maxDai: toBigNumber(0),\n        collateralRatio: toBigNumber(0),\n        minEth: toBigNumber(0),\n        cdpId: '--'\n      },\n      availableCdps: {},\n      cdps: [],\n      cdpsWithoutProxy: [],\n      cdpService: {},\n      cdpDetailsLoaded: false,\n      currentProxy: null,\n      currentCdpId: '',\n      creatingCdp: false,\n      daiPrice: 0,\n      daiQty: 0,\n      ethPrice: toBigNumber(0),\n      ethQty: 0,\n      liquidationRatio: toBigNumber(0),\n      liquidationPenalty: toBigNumber(0),\n      makerActive: false,\n      makerCdp: {},\n      makerManager: {},\n      migrationInProgress: {},\n      openCloseModal: false,\n      openMoveModal: false,\n      proxyService: {},\n      proxyAddress: null,\n      pethPrice: toBigNumber(0),\n      pethMin: toBigNumber(0),\n      priceService: {},\n      priceFloor: 0,\n      stabilityFee: toBigNumber(0),\n      sysVars: {},\n      sysServices: {},\n      targetPrice: 0,\n      valuesUpdated: 0,\n      wethToPethRatio: toBigNumber(0)\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    maxDaiDraw() {\n      if (this.ethQty <= 0) return 0;\n      return bnOver(this.ethPrice, this.ethQty, this.liquidationRatio);\n    },\n    minEthDeposit() {\n      if (this.daiQty <= 0) return 0;\n      return bnOver(this.liquidationRatio, this.daiQty, this.ethPrice);\n    },\n    showMoveOrClose() {\n      return (\n        this.$route.name === 'manage-sai' || this.$route.name === 'migrate-sai'\n      );\n    },\n    showManage() {\n      return (\n        this.listCdps ||\n        (this.cdps.length >= 1 && this.cdpsWithoutProxy.length >= 1)\n      );\n    },\n    showRefresh() {\n      return this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0;\n    },\n    onCreate() {\n      return this.$route.name === 'create-sai';\n    },\n    showCreateProxy() {\n      if (this.showCdpMigrateButtons) {\n        return false;\n      }\n      return !this.hasProxy && !this.onCreate;\n    },\n    showCdpMigrateButtons() {\n      return this.hasProxy && this.cdpsWithoutProxy.length >= 1;\n    },\n    listCdps() {\n      return this.cdps.length > 1 || this.cdpsWithoutProxy.length > 1;\n    },\n    hasProxy() {\n      return this.proxyAddress !== null;\n    },\n    currentProxyAddress() {\n      return this.proxyAddress;\n    }\n  },\n  watch: {\n    ['account.address']() {\n      this.makerActive = false;\n      this.setup();\n    }\n  },\n  destroyed() {\n    this.priceService = {};\n    this.cdpService = {};\n    this.proxyService = {};\n    this.availableCdps = {};\n    this.activeCdp = {};\n    this.makerCdp = {};\n    this.sysVars = {};\n    this.sysServices = {};\n  },\n  async mounted() {\n    await this.setup();\n  },\n  methods: {\n    modalHidden() {\n      this.openCloseModal = false;\n      this.openMoveModal = false;\n    },\n    gotoHome() {\n      this.$router.push({\n        name: 'Maker-sai'\n      });\n    },\n    gotoCreate() {\n      if (this.$route.path.includes('maker-sai')) {\n        this.activeValues = this.systemValues;\n        this.$router.push({\n          name: 'create-sai'\n        });\n      }\n    },\n    goToManage() {\n      if (this.$route.path.includes('maker-sai')) {\n        if (this.cdps.length === 1) {\n          this.$router.push({\n            name: 'manage-sai',\n            params: {\n              cdpId: this.cdps[0]\n            }\n          });\n        } else if (this.cdpsWithoutProxy.length === 1) {\n          this.$router.push({\n            name: 'migrate-sai',\n            params: {\n              cdpId: this.cdpsWithoutProxy[0]\n            }\n          });\n        } else if (this.showManage) {\n          // The listing screen may not work and can be removed\n          this.$router.push({\n            name: 'select-sai'\n          });\n        } else {\n          this.gotoCreate();\n        }\n      }\n    },\n    openManage(cdpId) {\n      if (this.$route.path.includes('maker-sai')) {\n        this.setupCdpManage(cdpId);\n        this.$router.push({\n          name: 'manage-sai',\n          params: {\n            cdpId: cdpId\n          }\n        });\n      }\n    },\n    openMigrate(cdpId) {\n      if (this.$route.path.includes('maker-sai')) {\n        this.setupCdpManage(cdpId);\n        this.$router.push({\n          name: 'migrate-sai',\n          params: {\n            cdpId: cdpId\n          }\n        });\n      }\n    },\n    showDeposit() {\n      this.$refs.deposit.$refs.modal.show();\n    },\n    showWithdraw() {\n      this.$refs.withdraw.$refs.modal.show();\n    },\n    showPayback() {\n      this.$refs.payback.$refs.modal.show();\n    },\n    showGenerate() {\n      this.$refs.generate.$refs.modal.show();\n    },\n    showClose() {\n      this.$refs.closeCdp.$refs.modal.$on('hidden', () => {\n        this.$emit('modalHidden');\n      });\n      this.$refs.closeCdp.$refs.modal.show();\n    },\n    showMove() {\n      this.$refs.moveCdp.$refs.modal.$on('hidden', () => {\n        this.$emit('modalHidden');\n      });\n      this.destAddressHasProxy = false;\n      this.$refs.moveCdp.$refs.modal.show();\n    },\n    async setup() {\n      this.activeCdps = {};\n      this.currentCdp = {};\n      const web3 = this.web3;\n      const _self = this;\n      this.gotoHome();\n      const MewMakerPlugin = MewPlugin(\n        web3,\n        _self.account.address,\n        async () => {\n          if (_self.$route.path.includes('maker-sai')) {\n            await _self.doUpdate();\n          }\n        }\n      );\n      this.maker = await Maker.create('inject', {\n        provider: { inject: web3.currentProvider },\n        plugins: [MewMakerPlugin],\n        accounts: {\n          myLedger1: { type: 'mew' }\n        }\n      });\n\n      await this.maker.authenticate();\n      this._priceService = this.maker.service('price');\n      this._cdpService = await this.maker.service('cdp');\n      this._proxyService = await this.maker.service('proxy');\n      this._tokenService = await this.maker.service('token');\n\n      this.pethMin = toBigNumber(0.005);\n\n      this.ethPrice = toBigNumber(\n        (await this._priceService.getEthPrice()).toNumber()\n      );\n\n      this.pethPrice = toBigNumber(\n        (await this._priceService.getPethPrice()).toNumber()\n      );\n\n      this._targetPrice = toBigNumber(\n        (await this._priceService.getPethPrice()).toNumber()\n      );\n\n      this.liquidationRatio = toBigNumber(\n        await this._cdpService.getLiquidationRatio()\n      );\n      this.liquidationPenalty = toBigNumber(\n        await this._cdpService.getLiquidationPenalty()\n      );\n      this.stabilityFee = toBigNumber(\n        await this._cdpService.getAnnualGovernanceFee()\n      );\n\n      this.wethToPethRatio = toBigNumber(\n        await this._priceService.getWethToPethRatio()\n      );\n      this.proxyAddress = await this._proxyService.currentProxy();\n\n      this.daiToken = this._tokenService.getToken(DAI);\n      this.daiBalance = (await this.daiToken.balance()).toBigNumber();\n      this.mkrToken = this._tokenService.getToken(MKR);\n      this.mkrBalance = (await this.mkrToken.balance()).toBigNumber();\n\n      const minEth = toBigNumber(this.pethMin).times(this.wethToPethRatio);\n      this.systemValues = {\n        stabilityFee: this.stabilityFee,\n        minEth: minEth,\n        liquidationRatio: this.liquidationRatio,\n        wethToPethRatio: this.wethToPethRatio,\n        liquidationPenalty: this.liquidationPenalty,\n        targetPrice: this._targetPrice,\n        pethPrice: this.pethPrice\n      };\n\n      await this.checkAllowances();\n\n      const { withProxy, withoutProxy } = await this.locateCdps();\n      this.cdps = withProxy;\n      this.cdpsWithoutProxy = withoutProxy;\n\n      if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n        await this.loadCdpDetails();\n      }\n\n      this.currentProxy = this.getProxy();\n      if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n        this.cdpDetailsLoaded = true;\n        this.makerActive = true;\n        if (\n          this.$route.name !== 'create-sai' &&\n          this.$route.path.includes('maker-sai')\n        ) {\n          this.goToManage();\n        }\n      } else {\n        this.gotoCreate();\n      }\n    },\n\n    async buildEmpty() {\n      return await this.buildCdpObject(null);\n    },\n    addCdp() {\n      this.creatingCdp = true;\n    },\n    removeCdp(vals) {\n      try {\n        delete this.availableCdps[vals.id];\n        Toast.responseHandler(this.$t('dapps-maker.cdp-closed'), Toast.INFO);\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    },\n    async migrateCdpExternal(cdpId) {\n      this.afterUpdate.push(this.goToManage);\n      await this.migrateCdp(cdpId);\n    },\n    async refreshExternal() {\n      await this.doUpdate();\n    },\n    async refresh() {\n      await this.doUpdate();\n    },\n    async doUpdate() {\n      this.proxyAddress = await this.getProxy();\n      let afterClose = false;\n      const afterOpen = this.$route.name === 'create-sai';\n      await this.updateActiveCdp();\n      for (const idProp in this.activeCdps) {\n        if (this.activeCdps[idProp].needsUpdate) {\n          if (this.activeCdps[idProp].closing) {\n            afterClose = true;\n            delete this.activeCdps[idProp];\n            this.cdps = this.cdps.filter(item => item !== idProp);\n            this.cdpsWithoutProxy = this.cdpsWithoutProxy.filter(\n              item => item !== idProp\n            );\n          } else if (this.activeCdps[idProp].opening) {\n            await this.activeCdps[idProp].updateValues();\n          } else {\n            this.activeCdps[idProp] = await this.activeCdps[idProp].update();\n          }\n        }\n        if (idProp === this.currentCdpId) {\n          await this.currentCdp.update();\n          await this.setupCdpManage(this.currentCdpId);\n        }\n      }\n\n      this.daiBalance = (await this.daiToken.balance()).toBigNumber();\n      this.mkrBalance = (await this.mkrToken.balance()).toBigNumber();\n      await this.checkAllowances();\n\n      if (!Object.keys(this.activeCdps).includes(this.currentCdpId)) {\n        await this.loadCdpDetails();\n        await this.setupCdpManage(this.currentCdpId);\n      } else {\n        await this.setupCdpManage(this.currentCdpId);\n      }\n\n      const runAfterUpdate = () => {\n        if (this.afterUpdate.length > 0) {\n          const fn = this.afterUpdate.pop();\n          fn();\n          runAfterUpdate();\n        }\n      };\n      runAfterUpdate();\n      if (afterClose || afterOpen || this.creatingCdp) {\n        if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n          this.goToManage();\n        } else {\n          this.gotoCreate();\n        }\n      }\n      if (this.creatingCdp) {\n        this.creatingCdp = false;\n        await this.updateActiveCdp();\n        Toast.responseHandler(this.$t('dapps-maker.cdp-closed'), Toast.INFO);\n      } else {\n        this.valuesUpdated++;\n        Toast.responseHandler(this.$t('dapps-maker.cdp-closed'), Toast.INFO);\n      }\n    },\n\n    async checkAllowances() {\n      if (this.proxyAddress) {\n        this._proxyAllowanceDai = (\n          await this.daiToken.allowance(this.account.address, this.proxyAddress)\n        ).toBigNumber();\n\n        this._proxyAllowanceMkr = (\n          await this.mkrToken.allowance(this.account.address, this.proxyAddress)\n        ).toBigNumber();\n      }\n    },\n    async setupCdpManage(cdpId) {\n      if (!this.allCdpIds.includes(cdpId) && this.allCdpIds.length > 0) {\n        cdpId = this.allCdpIds[0];\n      }\n      if (this.allCdpIds.length === 0) {\n        this.activeValues = this.systemValues;\n      } else {\n        this.currentCdpId = cdpId;\n        this.activeValues = await this.getValuesForManage(cdpId);\n      }\n    },\n    async getValuesForManage(cdpId) {\n      const currentCdp = this.activeCdps[cdpId];\n      this.currentCdp = currentCdp;\n      const _proxyAllowanceDai = this._proxyAllowanceDai;\n      const _proxyAllowanceMkr = this._proxyAllowanceMkr;\n      const toPeth = this.toPeth;\n      const systemValues = this.systemValues;\n      return {\n        ...systemValues,\n        cdpId: cdpId,\n        maxPethDraw: currentCdp.maxPethDraw,\n        maxEthDraw: currentCdp.maxEthDraw,\n        maxUsdDraw: currentCdp.maxUsdDraw,\n        ethCollateral: currentCdp.ethCollateral,\n        pethCollateral: currentCdp.pethCollateral,\n        usdCollateral: currentCdp.usdCollateral,\n        debtValue: currentCdp.debtValue,\n        maxDai: currentCdp.maxDai,\n        collateralRatio: currentCdp.collatRatio,\n        liquidationPrice: currentCdp.liquidationPrice,\n        minEth: currentCdp.minEth,\n        isSafe: false,\n        governanceFeeOwed: currentCdp.governanceFeeOwed,\n        ethCollateralNum: currentCdp.ethCollateralNum,\n        toPeth: toPeth,\n        proxyAllowanceDai: _proxyAllowanceDai,\n        proxyAllowanceMkr: _proxyAllowanceMkr,\n        zeroDebt: currentCdp.zeroDebt\n      };\n    },\n    async locateCdps() {\n      this.cdpsWithoutProxy = [];\n      this.cdpsWithoutProxy = await this.locateCdpsWithoutProxy();\n      this.cdps = [];\n      this.cdps = await this.locateCdpsProxy();\n\n      this.allCdpIds = [...this.cdpsWithoutProxy, ...this.cdps];\n\n      return { withProxy: this.cdps, withoutProxy: this.cdpsWithoutProxy };\n    },\n\n    async locateCdpsWithoutProxy() {\n      const directCdps = await this._cdpService.getCdpIds(this.account.address);\n      const directCdpsCheckSum = await this._cdpService.getCdpIds(\n        toChecksumAddress(this.account.address)\n      );\n      return directCdps.concat(directCdpsCheckSum);\n    },\n\n    async locateCdpsProxy() {\n      this.proxyAddress = await this.getProxy();\n      return await this._cdpService.getCdpIds(this.proxyAddress);\n    },\n    async updateActiveCdp() {\n      const currentCdpIds = Object.keys(this.activeCdps);\n      await this.locateCdps();\n\n      const newCdps = this.cdps.filter(\n        item => !Object.keys(this.activeCdps).includes(item.toString())\n      );\n\n      const newCdpsWithoutProxy = this.cdpsWithoutProxy.filter(\n        item => !Object.keys(this.activeCdps).includes(item.toString())\n      );\n\n      const removedCdps = currentCdpIds.filter(\n        item =>\n          !(\n            this.cdps.includes(item.toString()) ||\n            this.cdpsWithoutProxy.includes(item.toString())\n          )\n      );\n\n      if (removedCdps.length > 0) {\n        removedCdps.forEach(item => delete this.activeCdps[item]);\n      }\n\n      if (newCdps.length > 0) {\n        for (let i = 0; i < newCdps.length; i++) {\n          this.activeCdps[newCdps[i]] = await this.buildCdpObject(newCdps[i]);\n        }\n      }\n\n      if (newCdpsWithoutProxy.length > 0) {\n        for (let i = 0; i < newCdpsWithoutProxy.length; i++) {\n          this.activeCdps[newCdpsWithoutProxy[i]] = await this.buildCdpObject(\n            newCdpsWithoutProxy[i],\n            {\n              noProxy: true\n            }\n          );\n        }\n      }\n\n      if (this.cdps.length === 0 && this.cdpsWithoutProxy.length === 0) {\n        this.gotoCreate();\n      }\n    },\n    async loadCdpDetails() {\n      for (let i = 0; i < this.cdps.length; i++) {\n        this.activeCdps[this.cdps[i]] = await this.buildCdpObject(this.cdps[i]);\n      }\n      for (let i = 0; i < this.cdpsWithoutProxy.length; i++) {\n        this.activeCdps[this.cdpsWithoutProxy[i]] = await this.buildCdpObject(\n          this.cdpsWithoutProxy[i],\n          {\n            noProxy: true\n          }\n        );\n      }\n    },\n    async buildCdpObject(cdpId, options = {}) {\n      const sysVars = {\n        ...options,\n        _proxyAddress: this.proxyAddress,\n        liquidationPenalty: this.liquidationPenalty,\n        stabilityFee: this.stabilityFee,\n        ethPrice: this.ethPrice,\n        _pethPrice: this.pethPrice,\n        wethToPethRatio: this.wethToPethRatio,\n        _targetPrice: this._targetPrice,\n        liquidationRatio: this.liquidationRatio,\n        proxyAllowanceDai: this.proxyAllowanceDai,\n        proxyAllowanceMkr: this.proxyAllowanceMkr,\n        _daiToken: this._daiToken,\n        daiBalance: this.daiBalance,\n        _mkrToken: this._mkrToken,\n        mkrBalance: this.mkrBalance,\n        minEth: this.minEth,\n        pethMin: this.pethMin\n      };\n\n      if (this.cdpsWithoutProxy.includes(cdpId)) {\n        this.cdp = await this.getMakerCdp(cdpId, false);\n      } else if (this.cdps.includes(cdpId)) {\n        this.cdp = await this.getMakerCdp(cdpId, this.proxyAddress);\n      } else {\n        this.cdp = await this.getMakerCdp(cdpId, false);\n      }\n\n      const services = {\n        _proxyService: this._proxyService,\n        priceService: this.priceService,\n        _cdpService: this._cdpService,\n        doUpdate: this.doUpdate,\n        getProxy: this.getProxy,\n        hasProxy: this.hasProxy,\n        getCdp: this.getMakerCdp,\n        toPeth: this.toPeth,\n        toUSD: this.toUSD,\n        _proxyAddress: this.proxyAddress,\n        liquidationPenalty: this.liquidationPenalty,\n        stabilityFee: this.stabilityFee,\n        ethPrice: this.ethPrice,\n        _pethPrice: this.pethPrice,\n        wethToPethRatio: this.wethToPethRatio,\n        _targetPrice: this._targetPrice,\n        liquidationRatio: this.liquidationRatio,\n        proxyAllowanceDai: this.proxyAllowanceDai,\n        proxyAllowanceMkr: this.proxyAllowanceMkr,\n        _daiToken: this._daiToken,\n        daiBalance: this.daiBalance,\n        _mkrToken: this._mkrToken,\n        mkrBalance: this.mkrBalance,\n        minEth: this.minEth,\n        pethMin: this.pethMin\n      };\n\n      const makerCDP = new MakerCDP(cdpId, this.web3, services, sysVars);\n      if (cdpId) {\n        return await makerCDP.init(cdpId);\n      }\n      return makerCDP;\n    },\n\n    async getProxy() {\n      this.proxyAddress = await this._proxyService.currentProxy();\n      if (!this.proxyAddress) {\n        this.proxyAddress = await this._proxyService.getProxyAddress(\n          this.account.address\n        );\n        if (this.proxyAddress) this.noProxy = false;\n      }\n      return this.proxyAddress;\n    },\n\n    lockEth(val) {\n      this.currentCdp.lockEth(val);\n    },\n    wipeDai(val) {\n      this.currentCdp.wipeDai(val);\n    },\n    freeEth(val) {\n      if (val[1] === null) {\n        this.currentCdp.freeEth(val[0]);\n      } else {\n        this.currentCdp.freeEth(val[0], val[1]);\n      }\n    },\n    drawDai(val) {\n      if (val[1] === null) {\n        this.currentCdp.drawDai(val[0]);\n      } else {\n        this.currentCdp.drawDai(val[0], val[1]);\n      }\n    },\n    closeCdp() {\n      this.currentCdp.closeCdp();\n    },\n    checkIfDestAddressHasProxy(val) {\n      this.currentCdp\n        .checkIfDestAddressHasProxy(val)\n        .then(result => {\n          this.destAddressProxy = result;\n          this.destAddressHasProxy = result !== null;\n        })\n        .catch(err => {\n          throw err;\n        });\n    },\n    moveCdp(val) {\n      this.currentCdp.moveCdp(val);\n    },\n\n    calcCollatRatioDaiChg(daiQty) {\n      return toBigNumber(\n        this.currentCdp.calcCollatRatio(this.currentCdp.ethCollateral, daiQty)\n      );\n    },\n\n    calcCollatRatioEthChg(ethQty) {\n      return toBigNumber(\n        this.currentCdp.calcCollatRatio(ethQty, this.currentCdp.debtValue)\n      );\n    },\n\n    calcLiquidationPriceDaiChg(daiQty) {\n      return toBigNumber(\n        this.currentCdp.calcLiquidationPrice(\n          this.currentCdp.ethCollateral,\n          daiQty\n        )\n      );\n    },\n\n    calcLiquidationPriceEthChg(ethQty) {\n      return toBigNumber(\n        this.currentCdp.calcLiquidationPrice(ethQty, this.currentCdp.debtValue)\n      );\n    },\n    async approveDai() {\n      await this._tokenService\n        .getToken(DAI)\n        .approveUnlimited(this.proxyAddress);\n    },\n    async approveMkr() {\n      this._tokenService.getToken(MKR).approveUnlimited(this.proxyAddress);\n    },\n    hasCdp(cdpId) {\n      return Object.keys(this.activeCdps).includes(\n        toBigNumber(cdpId).toString()\n      );\n    },\n\n    getCdp(cdpId) {\n      return this.activeCdps[cdpId];\n    },\n\n    async getMakerCdp(cdpId) {\n      if (cdpId === null) return;\n      if (this.cdpsWithoutProxy.includes(cdpId)) {\n        return await this.maker.getCdp(cdpId, false);\n      } else if (this.cdps.includes(cdpId) && this.proxyAddress) {\n        return await this.maker.getCdp(cdpId, this.proxyAddress);\n      } else if (this.proxyAddress) {\n        return await this.maker.getCdp(cdpId, this.proxyAddress);\n      }\n      return await this.maker.getCdp(cdpId, false);\n    },\n\n    async buildProxy() {\n      this.proxyAddress = await this.getProxy();\n      if (!this.proxyAddress) {\n        await this._proxyService.build();\n        this.proxyAddress = await this._proxyService.currentProxy();\n        return this.proxyAddress;\n      }\n      this.proxyAddress = await this._proxyService.currentProxy();\n      return this.proxyAddress;\n    },\n\n    async migrateCdp(cdpId) {\n      const currentProxy = await this.getProxy();\n      if (currentProxy) {\n        await this._cdpService.give(cdpId, currentProxy);\n      }\n    },\n\n    // Calculations\n    minEth() {\n      if (this.wethToPethRatio) {\n        return toBigNumber(this.pethMin).times(this.wethToPethRatio);\n      }\n      return '--';\n    },\n    toUSD(eth) {\n      if (eth === undefined || eth === null) return toBigNumber(0);\n      return this.ethPrice.times(toBigNumber(eth));\n    },\n\n    toPeth(eth) {\n      if (!toBigNumber(eth).eq(0)) {\n        return toBigNumber(eth).div(this.wethToPethRatio);\n      }\n      return toBigNumber(0);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'MakerDai.scss';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MakerDai.vue?vue&type=template&id=53955227&scoped=true&\"\nimport script from \"./MakerDai.vue?vue&type=script&lang=js&\"\nexport * from \"./MakerDai.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MakerDai.vue?vue&type=style&index=0&id=53955227&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53955227\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=c58e58c4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=c58e58c4&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=74d90e30&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=74d90e30&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=85b1a0be&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=85b1a0be&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=65ff3c04&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=65ff3c04&lang=scss&scoped=true&\"","import BigNumber from 'bignumber.js';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nconst bnOver = (one, two, three) => {\n  return toBigNumber(one)\n    .times(toBigNumber(two))\n    .div(toBigNumber(three));\n};\n\nexport function displayPercentValue(raw) {\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n  return raw.times(100).toString();\n}\n\nexport function displayFixedValue(raw, decimals = 3, round = true) {\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n  if (!isFinite(raw) || isNaN(raw)) return '--';\n  if (round) return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n  return raw.toFixed(decimals).toString();\n}\n\nexport function displayFixedPercent(raw, decimals = 3, round = true) {\n  const value = displayFixedValue(displayPercentValue(raw), decimals, round);\n  if (isFinite(value) && new BigNumber(value).gt(0)) {\n    return value;\n  }\n  return '--';\n}\n\n// Calculations\n\nexport function maxDai(ethPrice, ethCollateral, liquidationRatio, debtValue) {\n  return bnOver(\n    toBigNumber(ethPrice),\n    toBigNumber(ethCollateral),\n    toBigNumber(liquidationRatio)\n  ).minus(toBigNumber(debtValue));\n}\n\nexport function maxPethDraw(\n  pethCollateral,\n  liquidationRatio,\n  debtValue,\n  pethPrice,\n  pethMin = 0\n) {\n  return toBigNumber(pethCollateral)\n    .minus(\n      bnOver(\n        toBigNumber(liquidationRatio).plus(0.001),\n        toBigNumber(debtValue),\n        toBigNumber(pethPrice)\n      )\n    )\n    .minus(toBigNumber(pethMin).times(1.0));\n}\n\nexport function maxEthDraw(\n  ethCollateral,\n  liquidationRatio,\n  debtValue,\n  ethPrice,\n  minEth = 0\n) {\n  return toBigNumber(ethCollateral)\n    .minus(\n      bnOver(\n        toBigNumber(liquidationRatio),\n        toBigNumber(debtValue),\n        toBigNumber(ethPrice)\n      )\n    )\n    .minus(toBigNumber(minEth).times(1.0));\n}\n\nexport function calcCollatRatio(ethQty, daiQty, ethPrice) {\n  return bnOver(toBigNumber(ethPrice), ethQty, daiQty);\n}\n\nexport function calcLiquidationPrice(\n  ethQty,\n  daiQty,\n  ethPrice,\n  liquidationRatio\n) {\n  const getInt = parseInt(ethPrice);\n  for (let i = getInt; i > 0; i--) {\n    const atValue = bnOver(i, ethQty, daiQty).lte(\n      toBigNumber(liquidationRatio)\n    );\n    if (atValue) {\n      return i;\n    }\n  }\n  for (let i = 100; i > 0; i--) {\n    const atValue = bnOver(i / 100, ethQty, daiQty).lte(\n      toBigNumber(liquidationRatio)\n    );\n    if (atValue) {\n      return i / 100;\n    }\n  }\n  return 0;\n}\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=style&index=0&id=8e968400&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=style&index=0&id=8e968400&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=53955227&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=53955227&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=658756ce&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=658756ce&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=2e7e7856&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=2e7e7856&lang=scss&scoped=true&\""],"sourceRoot":""}